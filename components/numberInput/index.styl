@import '../util/form'

.InputNumber
.CoreInputNumber
  $padding-left = .5em

  &
    position relative
    display inline-block
    min-width 2em
    // Canâ€™t use San Francisco for suffix position reason:
    font-family 'Helvetica Neue', Helvetica, Arial, sans-serif
  &:not(.unstyled).is-active input
      background-color $cl-Input-hover-bg
      border-color $cl-Input-hover-border
      box-shadow $cl-Input-active-shadow
  &:not(.unstyled).isnt-valid input
    border-color $cl-Input-invalid-border !important
    box-shadow $cl-Input-invalid-shadow !important
  &.is-disabled
    &
      cursor not-allowed
    > *
      opacity .5
  &.is-disabled
  &.is-readonly
    .action
      visibility hidden

  & input
    padding-right $InputNumber-action-width
    padding-left $padding-left
    font-family inherit
  &.regular input
    padding-right $InputNumber-regular-action-width


  &:not(.is-disabled):hover input:not([readonly])
  input:not([readonly]):focus
    & ~ .action
      opacity 1
      transition all .2s ease-out

  .action
    &
      position absolute
      top 0
      right 0
      width $InputNumber-action-width
      height 100%
      text-align center
    &:not(.caret)
      opacity 0
    svg
      height 4px
      fill currentColor
      fill-rule evenodd
    &.caret
      button
        height 100%
      svg
        transition transform .2s ease-out
      /.InputNumber.is-menu-open .caret svg
        transform rotate(180deg)

    button
      &
        display block
        margin 0
        padding 0
        width 100%
        height 50%
        line-height 0
        color $cl-InputNumber-action
        transition all .1s ease-out
      &:hover
        color $cl-InputNumber-action-hover
      &:active
        color $cl-InputNumber-action-active
      &[data-action=up] svg
        margin 5px 0 2px
      &[data-action=down] svg
        margin 2px 0 5px

  &.regular .action
    top 50%
    transform translateY(-50%)
    width $InputNumber-regular-action-width
    height 28px

  &.with-desc
    margin-top 6px
    margin-bottom 1.5em

  .title
  .desc
  .prefix
  .suffix
    position absolute
    top 0
    left 0
    display flex
    align-items center
    height 100%
    pointer-events none
    user-select none
    border 1px solid transparent

  &.is-empty
    .prefix
    .suffix
      opacity .3

  .title
    margin-left $padding-left
    color $cl-InputNumber-desc

  .desc
    top 100%
    width 100%
    height 1.5em
    line-height 1.5
    justify-content center
    color $cl-InputNumber-desc

  .prefix
    margin-left $padding-left

  .suffix
    &
      padding-left $padding-left
      padding-right ($InputNumber-action-width + .125em)
      width 100%
    &:before
      content attr(data-value)
      display inline-block
      margin-right .125em
      width -moz-fit-content
      width -webkit-fit-content
      width fit-content
      overflow hidden
      opacity 0
